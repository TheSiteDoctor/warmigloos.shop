@inherits Umbraco.Cms.Web.Common.Views.UmbracoViewPage<BlockListItem>
@using Umbraco.Cms.Core.Models.Blocks;
@using IglooTheme.Commerce.Extensions

@{
    var haveCategory = ViewData.TryGetCategory(UmbracoContext, out var category) && category is not null && category.IsCategoryContentType();
    var categoryName = haveCategory ? category!.Value<string>("categoryName") : null;
}

@await Component.InvokeAsync("CategoryName", new { contentPublishedModel = Model.Content, settingsPublishedModel = Model.Settings, categoryName = categoryName })
